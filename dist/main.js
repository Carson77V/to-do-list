(()=>{"use strict";let t=[];function e(t){const e=document.createElement("option");return e.textContent=t,e.setAttribute("value",t),e}localStorage.getItem("projectTitles")?t=localStorage.getItem("projectTitles").split(","):localStorage.setItem("projectTitles",[]);let n=[];const c=document.querySelector(".add-task");c.addEventListener("click",(()=>{document.querySelector("#tasks").insertBefore(function(t,n,c,d){const s=document.createElement("div");s.classList.add("task-span"),s.classList.add("task-form");const o=document.createElement("form");o.setAttribute("action",""),o.setAttribute("method","post");const a=document.createElement("div");a.classList.add("top-form-task");const l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","title-edit"),l.setAttribute("placeholder","Title"),l.setAttribute("name","title-edit"),l.setAttribute("maxlength","20"),l.value=null;const i=document.createElement("div"),r=document.createElement("label");r.textContent="Date: ",r.setAttribute("for","date");const u=document.createElement("input");u.setAttribute("type","date"),u.setAttribute("id","date"),u.setAttribute("name","date"),u.value=null,i.appendChild(r),i.appendChild(u),a.appendChild(l),a.appendChild(i),o.appendChild(a);const m=document.createElement("div");m.classList.add("textarea-div");const p=document.createElement("textarea");p.setAttribute("placeholder","Description"),p.value=null,m.appendChild(p),o.appendChild(m);const E=document.createElement("div");E.classList.add("lower-form-task");const h=document.createElement("div"),C=document.createElement("label");C.textContent="Priority: ",C.setAttribute("for","priority");const b=document.createElement("select");b.setAttribute("name","priority"),b.setAttribute("id","priority"),b.value=3;for(let t=1;t<=3;t++)b.appendChild(e(t));h.appendChild(C),h.appendChild(b);const v=document.createElement("button");return v.textContent="Save",v.setAttribute("type","button"),E.appendChild(h),E.appendChild(v),o.appendChild(E),s.appendChild(o),s}(),c)})),document.querySelectorAll(".menu-item").forEach(l);const d=document.querySelector(".projects"),s=t;for(let t=0;t<s.length;t++)d.appendChild(o(s[t]));function o(e){const n=document.createElement("div");n.classList.add("menu-item");const c=document.createElement("div");c.textContent=e;const d=document.createElement("img");return d.setAttribute("src","./images/trash-2.svg"),d.setAttribute("alt","trash icon"),d.addEventListener("click",(e=>{!function(e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),localStorage.setItem("projectTitles",t))}(e.srcElement.previousElementSibling.textContent),e.srcElement.closest(".menu-item").remove()})),n.appendChild(c),n.appendChild(d),l(n),n}function a(t){t.srcElement.closest(".menu-form").remove()}function l(t){t.addEventListener("click",(t=>{const e=document.querySelector(".menu-selected");null!=e&&e.classList.remove("menu-selected"),t.srcElement.classList.add("menu-selected"),function(t){document.querySelectorAll(".task-span").forEach((t=>{t.remove()}));const e=n.filter((e=>{if("Today"!=t)return"Important"==t?e.getPriority=1:"All"==t||(e.getProject=t)})),c=document.querySelector(".add-task"),d=document.querySelector("#tasks");e.forEach((t=>{const e=function(t,e){const n=document.createElement("div");n.classList.add("task"),n.classList.add("task-span");const c=document.createElement("div"),d=document.createElement("div");c.classList.add("task-start"),d.classList.add("task-end");const s=document.createElement("span");s.classList.add("check-button");const o=document.createElement("div");o.classList.add("task-title"),o.textContent=t;const a=document.createElement("div");a.classList.add("task-date"),a.textContent="1/2/2023";const l=document.createElement("img");return l.src="images/edit.svg",l.setAttribute("alt","edit button"),d.appendChild(a),d.appendChild(l),c.appendChild(s),c.appendChild(o),n.appendChild(c),n.appendChild(d),n}(t.getTitle(),t.getDate());d.insertBefore(e,c)}))}(t.srcElement.firstChild.textContent)}))}document.querySelector(".project-title > svg").addEventListener("click",(()=>{document.querySelector(".projects").appendChild(function(){const e=document.createElement("div");e.classList.add("menu-form");const n=document.createElement("form");n.setAttribute("action",""),n.setAttribute("method","post");const c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","project-title"),c.setAttribute("name","projectTitle"),c.setAttribute("maxlength","15");const d=document.createElement("div");d.classList.add("project-buttons");const s=document.createElement("button");s.classList.add("add-button"),s.setAttribute("type","button"),s.textContent="Add";const l=document.createElement("button");return l.classList.add("cancel-button"),l.setAttribute("type","button"),l.textContent="Cancel",s.addEventListener("click",(e=>{!function(e){const n=e.srcElement.closest(".menu-form"),c=n.firstChild.firstChild.value;var d;n.insertAdjacentElement("afterend",o(c)),d=c,t.push(d),localStorage.setItem("projectTitles",t),a(e)}(e)})),l.addEventListener("click",(t=>{a(t)})),d.appendChild(s),d.appendChild(l),n.appendChild(c),n.appendChild(d),e.appendChild(n),e}())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3RFLEVHeUdMc0UsRUh4R1R2RixFQUFjeUYsS0FBS3hFLEdBQ25CVCxhQUFhRyxRQUFRLGdCQUFpQlgsR0cwR3RDMkQsRUFBT1QsRUFDWCxDQWpDUXdDLENBQUt4QyxFQUFDLElBRVZvQyxFQUFhdkUsaUJBQWlCLFNBQVVtQyxJQUNwQ1MsRUFBT1QsRUFBQyxJQUlaa0MsRUFBZXJELFlBQVlzRCxHQUMzQkQsRUFBZXJELFlBQVl1RCxHQUczQjlELEVBQUtPLFlBQVlvRCxHQUNqQjNELEVBQUtPLFlBQVlxRCxHQUdqQkYsRUFBU25ELFlBQVlQLEdBRWQwRCxDQUNYLENBdEZ3QlMsR0FBWSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9qcy1tb2R1bGVzL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvanMtbW9kdWxlcy90YXNrLWVkaXQtZG9tLmpzIiwid2VicGFjazovL3RvLWRvLWxpc3QvLi9zcmMvanMtbW9kdWxlcy90YXNrLWNvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9qcy1tb2R1bGVzL3Byb2plY3RzLWNvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tbGlzdC8uL3NyYy9qcy1tb2R1bGVzL3Rhc2stZG9tLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNyZWF0ZSBhcnJheSBmb3IgcHJvZ3JhbSB0byBydW4gb2ZmXG5sZXQgcHJvamVjdFRpdGxlcyA9IFtdXG5cbi8vIGNoZWNrIGlmIHRoZXJlIGlzIGFueSBsb2NhbHN0b3JhZ2UsIGlmIG5vdCBjcmVhdGUgbmV3IGFycmF5IGluIGxvY2Fsc3RvcmFnZVxuaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdFRpdGxlcycpKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RUaXRsZXMnLCBbXSlcbiAgfSBlbHNlIHtcbiAgICAvLyBsb2FkIGxvY2FsU3RvcmFnZSBkYXRhIGludG8gbWVtb3J5XG4gICAgcHJvamVjdFRpdGxlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0VGl0bGVzJykuc3BsaXQoJywnKVxuICB9XG5cbmZ1bmN0aW9uIGFkZFRpdGxlKHRpdGxlKSB7XG4gICAgcHJvamVjdFRpdGxlcy5wdXNoKHRpdGxlKVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0VGl0bGVzJywgcHJvamVjdFRpdGxlcylcbn1cblxuZnVuY3Rpb24gZ2V0VGl0bGVzKCkge1xuICAgIHJldHVybiBwcm9qZWN0VGl0bGVzO1xufVxuXG5mdW5jdGlvbiBkZWxldGVUaXRsZSh0aXRsZSkge1xuICAgIGNvbnN0IGluZGV4ID0gcHJvamVjdFRpdGxlcy5pbmRleE9mKHRpdGxlKTtcbiAgICBpZiAoaW5kZXggPiAtMSkgeyAvLyBvbmx5IHNwbGljZSBhcnJheSB3aGVuIGl0ZW0gaXMgZm91bmRcbiAgICAgICAgcHJvamVjdFRpdGxlcy5zcGxpY2UoaW5kZXgsIDEpOyAvLyAybmQgcGFyYW1ldGVyIG1lYW5zIHJlbW92ZSBvbmUgaXRlbSBvbmx5XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0VGl0bGVzJywgcHJvamVjdFRpdGxlcylcbiAgICB9XG59XG5cbmV4cG9ydCB7YWRkVGl0bGUsIGdldFRpdGxlcywgZGVsZXRlVGl0bGV9O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVGFza0VkaXQgKHRpdGxlLCBkYXRlLCBkZXNjcmlwdGlvbiwgcHJpb3JpdHkpIHtcbiAgICAvL2NyZWF0ZSBkaXYgdG8gaG9sZCBhbGwgdGhlIGVsZW1lbnRzXG4gICAgY29uc3QgdGFza0Zvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRhc2tGb3JtLmNsYXNzTGlzdC5hZGQoJ3Rhc2stc3BhbicpXG4gICAgdGFza0Zvcm0uY2xhc3NMaXN0LmFkZCgndGFzay1mb3JtJylcblxuICAgIC8vY3JlYXRlIHRoZSBmb3JtIFxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJylcbiAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgJycpXG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ21ldGhvZCcsICdwb3N0JylcblxuICAgIC8vc3RhcnQgYnkgY3JlYXRpbmcgZWxlbWVudHMgZm9yIHRoZSB0b3Agb2YgdGhlIGZvcm1cbiAgICAvL3RoZSB0aXRsZSBhbmQgZGF0ZSBhcmUgaW5sY3VkZWQgaGVyZVxuICAgIGNvbnN0IHRvcEVkaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRvcEVkaXQuY2xhc3NMaXN0LmFkZCgndG9wLWZvcm0tdGFzaycpXG5cbiAgICAvL2lucHV0IGZvciB0aGUgdGl0bGVcbiAgICBjb25zdCBlZGl0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gICAgZWRpdFRpdGxlLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0JylcbiAgICBlZGl0VGl0bGUuc2V0QXR0cmlidXRlKCdpZCcsICd0aXRsZS1lZGl0JylcbiAgICBlZGl0VGl0bGUuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdUaXRsZScpXG4gICAgZWRpdFRpdGxlLnNldEF0dHJpYnV0ZSgnbmFtZScsICd0aXRsZS1lZGl0JylcbiAgICBlZGl0VGl0bGUuc2V0QXR0cmlidXRlKCdtYXhsZW5ndGgnLCAnMjAnKVxuICAgIGVkaXRUaXRsZS52YWx1ZSA9IHRpdGxlIC8vVE8gRE9cblxuICAgIC8vaW5wdXQgZm9yIHRoZSBkYXRlXG4gICAgY29uc3QgZGF0ZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgY29uc3QgZGF0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICAgIGRhdGVMYWJlbC50ZXh0Q29udGVudCA9ICdEYXRlOiAnXG4gICAgZGF0ZUxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ2RhdGUnKVxuICAgICBcbiAgICBjb25zdCBpbnB1dERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gICAgaW5wdXREYXRlLnNldEF0dHJpYnV0ZSgndHlwZScsICdkYXRlJylcbiAgICBpbnB1dERhdGUuc2V0QXR0cmlidXRlKCdpZCcsICdkYXRlJylcbiAgICBpbnB1dERhdGUuc2V0QXR0cmlidXRlKCduYW1lJywgJ2RhdGUnKVxuICAgIGlucHV0RGF0ZS52YWx1ZSA9IGRhdGUgLy9UTyBET1xuXG4gICAgLy9hcHBlbmQgdGhlIHRvcCB0b2dldGhlciBhbmQgYWRkIGl0IHRvIHRoZSBmdWxsIGZvcm1cbiAgICBkYXRlRGl2LmFwcGVuZENoaWxkKGRhdGVMYWJlbClcbiAgICBkYXRlRGl2LmFwcGVuZENoaWxkKGlucHV0RGF0ZSlcblxuICAgIHRvcEVkaXQuYXBwZW5kQ2hpbGQoZWRpdFRpdGxlKVxuICAgIHRvcEVkaXQuYXBwZW5kQ2hpbGQoZGF0ZURpdilcblxuICAgIGZvcm0uYXBwZW5kQ2hpbGQodG9wRWRpdClcblxuICAgIC8vY3JlYXRlIHRoZSB0ZXh0YXJlYVxuICAgIGNvbnN0IHRleHRBcmVhRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB0ZXh0QXJlYURpdi5jbGFzc0xpc3QuYWRkKCd0ZXh0YXJlYS1kaXYnKVxuXG4gICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpXG4gICAgdGV4dEFyZWEuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdEZXNjcmlwdGlvbicpXG4gICAgdGV4dEFyZWEudmFsdWUgPSBkZXNjcmlwdGlvbiAvL1RPIERPIFxuXG4gICAgdGV4dEFyZWFEaXYuYXBwZW5kQ2hpbGQodGV4dEFyZWEpXG4gICAgZm9ybS5hcHBlbmRDaGlsZCh0ZXh0QXJlYURpdilcblxuICAgIC8vY3JlYXRlIHRoZSBib3R0b20gb2YgdGhlIGZvcm1cbiAgICBjb25zdCBsb3dlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbG93ZXJEaXYuY2xhc3NMaXN0LmFkZCgnbG93ZXItZm9ybS10YXNrJylcblxuICAgIGNvbnN0IGVuY29tcGFzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcblxuICAgIGNvbnN0IHByaW9yaXR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpXG4gICAgcHJpb3JpdHlMYWJlbC50ZXh0Q29udGVudCA9ICdQcmlvcml0eTogJ1xuICAgIHByaW9yaXR5TGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAncHJpb3JpdHknKVxuXG4gICAgY29uc3QgcHJpb3JpdHlTZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKVxuICAgIHByaW9yaXR5U2VsZWN0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdwcmlvcml0eScpXG4gICAgcHJpb3JpdHlTZWxlY3Quc2V0QXR0cmlidXRlKCdpZCcsICdwcmlvcml0eScpXG4gICAgcHJpb3JpdHlTZWxlY3QudmFsdWUgPSBwcmlvcml0eSAvL1RPIERPXG5cbiAgICAvL3VzZSBhIGxvb3AgdG8gYWRkIDMgb3B0aW9ucyB0byB0aGUgRE9NXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0zOyBpKyspIHtcbiAgICAgICAgLy91c2UgYSBmdW5jdGlvbiB0byByZXR1cm4gdGhlIERPTSBvcHRpb24gZWxlbWVudFxuICAgICAgICBwcmlvcml0eVNlbGVjdC5hcHBlbmRDaGlsZChjcmVhdGVPcHRpb24oaSkpXG4gICAgfVxuXG4gICAgLy9hcHBlbmQgdGhlIHByaW9yaXR5IGVsZW1lbnRzIHRvIHRoZSBkaXZcbiAgICBlbmNvbXBhc0Rpdi5hcHBlbmRDaGlsZChwcmlvcml0eUxhYmVsKVxuICAgIGVuY29tcGFzRGl2LmFwcGVuZENoaWxkKHByaW9yaXR5U2VsZWN0KVxuXG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgc2F2ZUJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZlJ1xuICAgIHNhdmVCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpXG5cbiAgICAvLyBhcHBlbmQgdGhlIGxvd2VyIGVsZW1lbnRzIFxuICAgIGxvd2VyRGl2LmFwcGVuZENoaWxkKGVuY29tcGFzRGl2KVxuICAgIGxvd2VyRGl2LmFwcGVuZENoaWxkKHNhdmVCdXR0b24pXG4gICAgLy9hcHBlbmQgdGhlIGxvd2VyIGRpdiB0byB0aGUgZm9ybVxuICAgIGZvcm0uYXBwZW5kQ2hpbGQobG93ZXJEaXYpXG4gICAgLy9hcHBlbmQgZm9ybSB0byB0aGUgdGFzayBkaXZcbiAgICB0YXNrRm9ybS5hcHBlbmRDaGlsZChmb3JtKVxuXG4gICAgcmV0dXJuIHRhc2tGb3JtXG59XG5cbi8vIGNyZWF0ZXMgb3B0aW9ucyBmb3IgdGhlIHByaW9yaXR5IGVsZW1lbnRcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbiAoaSkge1xuICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpXG4gICAgb3B0aW9uLnRleHRDb250ZW50ID0gaVxuICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgaSlcbiAgICByZXR1cm4gb3B0aW9uXG59IiwiaW1wb3J0IHRhc2sgZnJvbSAnLi90YXNrLW9iamVjdC5qcydcbmltcG9ydCBjcmVhdGVUYXNrIGZyb20gJy4vdGFzay1kb20uanMnXG5pbXBvcnQgY3JlYXRlVGFza0VkaXQgZnJvbSAnLi90YXNrLWVkaXQtZG9tLmpzJ1xuXG4vLyBjcmVhdGUgYW4gYXJyYXkgdG8gc3RvcmUgYWxsIHRoZSB0YXNrc1xubGV0IGFsbFRhc2tzID0gW11cblxuLy9hZGQgZXZlbnQgbGlzdGVuZXIgdG8gK0FkZCBUYXNrIGJ1dHRvblxuY29uc3QgYWRkVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdGFzaycpXG5hZGRUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vIE5lZWQgdG8gcHV0IGEgdGFzay1lZGl0IGFib3ZlICtBZGQgVGFza1xuICAgIGNvbnN0IHRhc2tzRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rhc2tzJylcbiAgICB0YXNrc0Rpdi5pbnNlcnRCZWZvcmUoY3JlYXRlVGFza0VkaXQobnVsbCwgbnVsbCwgbnVsbCwgMyksIGFkZFRhc2spXG59KVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJUYXNrcyAobWVudVNlbGVjdGVkKSB7XG4gICAgLy8gZmlyc3QgcmVtb3ZlIHRoZSBjdXJyZW50IHRhc2tzXG4gICAgcmVtb3ZlVGFza3MoKVxuXG4gICAgLy8gY3JlYXRlIGEgbmV3IGFycmF5IHRoYXQgaG9sZHMgb25seSB0aGUgcmVxdWlyZWQgdGFza3MgZnJvbSB0aGUgcHJvamVjdFxuICAgIGNvbnN0IG5ld0FycmF5ID0gYWxsVGFza3MuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICBpZiAobWVudVNlbGVjdGVkID09IFwiVG9kYXlcIikge1xuICAgICAgICAgICAgLy8gVE8gRE9cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZW51U2VsZWN0ZWQgPT0gXCJJbXBvcnRhbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZ2V0UHJpb3JpdHkgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lbnVTZWxlY3RlZCA9PSBcIkFsbFwiKSB7cmV0dXJuIHRydWV9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZ2V0UHJvamVjdCA9IG1lbnVTZWxlY3RlZDsgXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBTZWxlY3QgdGhlIGFkZCB0YXNrIFxuICAgIGNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2snKVxuICAgIC8vIHNlbGVjdCB0YXNrcyBkaXZcbiAgICBjb25zdCB0YXNrc0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0YXNrcycpXG4gICAgLy9sb29wIHRocm91Z2ggdGhlIG5ldyBhcnJheSBhbmQgcmVuZGVyIHRoZSB0YXNrc1xuICAgIG5ld0FycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgLy8gYWRkIG5ldyBlbGVtZW50cyBiZWZvcmUgKyBBZGQgVGFza1xuICAgICAgICBjb25zdCBlbGUgPSBjcmVhdGVUYXNrKGl0ZW0uZ2V0VGl0bGUoKSwgaXRlbS5nZXREYXRlKCkpXG4gICAgICAgIHRhc2tzRGl2Lmluc2VydEJlZm9yZShlbGUsIGFkZFRhc2spXG4gICAgfSlcbn1cblxuLy8gd2hlbiByZW5kZXJUYXNrcygpIGlzIGNhbGxlZCwgdXNlIHRoaXMgZnVuY3Rpb24gdG8gZGVsZXRlIHRoZSBjdXJyZW50IHRhc2tzXG5mdW5jdGlvbiByZW1vdmVUYXNrcyAoKSB7XG4gICAgLy8gY3JlYXRlIG5vZGUgbGlzdHMgb2YgYWxsIGN1cnJlbnQgdGFza3MgaW4gdGhlIERPTVxuICAgIGNvbnN0IGFsbFRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2stc3BhbicpXG4gICAgLy8gcmVtb3ZlIGVhY2ggdGFza1xuICAgIGFsbFRhc2tzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5yZW1vdmUoKVxuICAgIH0pO1xufVxuXG4iLCJpbXBvcnQgeyBhZGRUaXRsZSwgZ2V0VGl0bGVzLCBkZWxldGVUaXRsZX0gZnJvbSBcIi4vcHJvamVjdHNcIlxuaW1wb3J0IHJlbmRlclRhc2tzIGZyb20gXCIuL3Rhc2stY29udHJvbC5qc1wiXG5cbi8vQWRkIGV2ZW50cyB0byB0aGUgZGVmYXVsdCBtZW51IG9wdGlvbnNcbmNvbnN0IG1lbnVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51LWl0ZW0nKVxubWVudUl0ZW1zLmZvckVhY2goYWRkTWVudUl0ZW1FdmVudClcblxuLy8gTG9hZCBsb2NhbFN0b3JhZ2UgZGF0YSBpbnRvIHRoZSBET01cbmNvbnN0IG1lbnVUaXRsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMnKVxuY29uc3QgYXJyYXkgPSBnZXRUaXRsZXMoKVxuZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIG1lbnVUaXRsZXMuYXBwZW5kQ2hpbGQoY3JlYXRlTWVudUl0ZW0oYXJyYXlbaV0pKVxufVxuXG4vLyBFdmVudCBsaXN0ZW5lciBmb3IgdGhlIFwiK1wiIGJ1dHRvbiBiZXNpZGUgcHJvamVjdCB0aXRsZVxuY29uc3QgcGx1c0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LXRpdGxlID4gc3ZnJylcbnBsdXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy9DYWxscyBmdW5jdGlvbiB0byBhZGQgdGhlIHByb2plY3QgZm9ybSB0byB0aGUgRE9NXG4gICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cycpXG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChjcmVhdGVGb3JtKCkpXG5cbn0pXG5cbi8vIFJldHVybnMgdGhlIERPTSBlbGVtZW50IG9mIGEgbWVudS1pdGVtIFxuLy8gYSBzaW1wbGUgcHJvamVjdCBpcyBhZGRlZCB0byB0aGUgbGlzdCBvbiB0aGUgRE9NXG5mdW5jdGlvbiBjcmVhdGVNZW51SXRlbSh0aXRsZSkge1xuICAgIC8vICBjcmVhdGUgdGhlIG1lbnUtaXRlbSBkaXYgdG8gaG9sZCB0aGUgZWxlbWVudHNcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0nKVxuICAgIC8vIGNyZWF0ZSB0aGUgdGl0bGUgZGl2XG4gICAgY29uc3QgdGl0bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRpdGxlRGl2LnRleHRDb250ZW50ID0gdGl0bGVcbiAgICAvLyBjcmVhdGUgdGhlIHRyYXNoIGJpbiBpbWdcbiAgICBjb25zdCB0cmFzaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgdHJhc2guc2V0QXR0cmlidXRlKCdzcmMnLCAnLi9pbWFnZXMvdHJhc2gtMi5zdmcnKVxuICAgIHRyYXNoLnNldEF0dHJpYnV0ZSgnYWx0JywgJ3RyYXNoIGljb24nKVxuXG4gICAgLy8gYWRkIGV2ZW50bGlzdGVuZXIgdG8gdHJhc2ggaWNvblxuICAgIHRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZGVsZXRlVGl0bGUoZS5zcmNFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQpXG4gICAgICAgIGUuc3JjRWxlbWVudC5jbG9zZXN0KCcubWVudS1pdGVtJykucmVtb3ZlKClcbiAgICB9KVxuXG4gICAgLy8gYXBwZW5kIHRoZSB0d28gY2hpbGRyZW5cbiAgICBkaXYuYXBwZW5kQ2hpbGQodGl0bGVEaXYpXG4gICAgZGl2LmFwcGVuZENoaWxkKHRyYXNoKVxuXG4gICAgYWRkTWVudUl0ZW1FdmVudChkaXYpXG4gICAgXG4gICAgcmV0dXJuIGRpdlxufVxuXG4vLyByZXR1cm5zIGEgZm9ybSBmb3IgRE9NIHRvIGJlIHVzZWQgdG8gY3JlYXRlIGEgbmV3IHByb2plY3RcbmZ1bmN0aW9uIGNyZWF0ZUZvcm0oKSB7XG4gICAgLy8gY3JlYXRlIHRoZSBkaXYgdGhhdCBlbmNvbXBhc3NlcyB0aGUgZW50aXJlIGJsb2NrXG4gICAgY29uc3QgbWVudUZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG1lbnVGb3JtLmNsYXNzTGlzdC5hZGQoJ21lbnUtZm9ybScpXG5cbiAgICAvLyBjcmVhdGUgdGhlIGZvcm0gYW5kIGFkZCBhdHRyaWJ1dGVzXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKVxuICAgIGZvcm0uc2V0QXR0cmlidXRlKCdhY3Rpb24nLCBcIlwiKVxuICAgIGZvcm0uc2V0QXR0cmlidXRlKCdtZXRob2QnLCAncG9zdCcpXG5cbiAgICAvLyBjcmVhdGUgdGhlIGlucHV0IGJveCBmb3IgdGV4dFxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0JylcbiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Byb2plY3QtdGl0bGUnKVxuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbmFtZScsICdwcm9qZWN0VGl0bGUnKVxuICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnbWF4bGVuZ3RoJywgJzE1JylcblxuICAgIC8vIGNyZWF0ZSBkaXYgdG8gZW5jb21wYXNzIGJ1dHRvbnNcbiAgICBjb25zdCBwcm9qZWN0QnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgcHJvamVjdEJ1dHRvbnMuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1idXR0b25zJylcblxuICAgIC8vY3JlYXRlIHRoZSBidXR0b25zXG4gICAgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICBhZGRCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWRkLWJ1dHRvbicpXG4gICAgYWRkQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKVxuICAgIGFkZEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQWRkXCJcblxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgY2FuY2VsQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NhbmNlbC1idXR0b24nKVxuICAgIGNhbmNlbEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJylcbiAgICBjYW5jZWxCdXR0b24udGV4dENvbnRlbnQgPSBcIkNhbmNlbFwiXG5cbiAgICAvLyBhZGQgZXZlbnRsaXN0ZW5lcnNcbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBzYXZlKGUpXG4gICAgfSlcbiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBjYW5jZWwoZSlcbiAgICB9KVxuXG4gICAgLy8gQXBwZW5kIHRoZSBidXR0b25zIHRvIHByb2plY3RCdXR0b25zXG4gICAgcHJvamVjdEJ1dHRvbnMuYXBwZW5kQ2hpbGQoYWRkQnV0dG9uKVxuICAgIHByb2plY3RCdXR0b25zLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbilcblxuICAgIC8vIEFwcGVuZCBpbnB1dCB0byBmb3JtIHRoZW4gcHJvamVjdEJ1dHRvbnMgdG8gZm9ybVxuICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXQpXG4gICAgZm9ybS5hcHBlbmRDaGlsZChwcm9qZWN0QnV0dG9ucylcblxuICAgIC8vIGFwcGVuZCBmb3JtIHRvIHRoZSBtYWluIGRpdiAobWVudUZvcm0pXG4gICAgbWVudUZvcm0uYXBwZW5kQ2hpbGQoZm9ybSlcblxuICAgIHJldHVybiBtZW51Rm9ybVxufVxuXG5mdW5jdGlvbiBzYXZlKGUpIHtcbiAgICAvLyBzZWxlY3QgdGhlIG1lbnUtZm9ybSBwYXJlbnQgbm9kZVxuICAgIGNvbnN0IG1lbnVGb3JtID0gZS5zcmNFbGVtZW50LmNsb3Nlc3QoJy5tZW51LWZvcm0nKVxuICAgIC8vIHNlbGVjdCB0aGUgY2hpbGQgb2YgbWVudS1mb3JtIGFuZCB0aGUgY2hpbGQgb2YgdGhhdCB0byBhcXVpcmUgdGhlIGlucHV0IG5vZGUuXG4gICAgLy8gVGFrZSB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IG5vZGVcbiAgICBjb25zdCBpbnB1dFRleHQgPSBtZW51Rm9ybS5maXJzdENoaWxkLmZpcnN0Q2hpbGQudmFsdWVcbiAgICAvLyBpbnNlcnQgYSBuZXcgbWVudSBpdGVtIGFmdGVyIHRoZSBmb3JtXG4gICAgbWVudUZvcm0uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGNyZWF0ZU1lbnVJdGVtKGlucHV0VGV4dCkpXG4gICAgLy8gYWRkIHRoZSB0aXRsZSB0byB0aGUgYXJyYXkgXG4gICAgYWRkVGl0bGUoaW5wdXRUZXh0KVxuXG4gICAgLy8gd2hlbiBldmVyeXRoaW5nIGlzIGRvbmUsIGRlbGV0ZSB0aGUgZm9ybVxuICAgIGNhbmNlbChlKVxufVxuXG4vLyBmdW5jdGlvbiB1c2VkIHRvIGRlbGV0ZSBtZW51LWZvcm1cbmZ1bmN0aW9uIGNhbmNlbChlKSB7XG4gICAgLy8gZmluZCB0aGUgY2xvc2VzdCBtZW51IGZvcm0gYW5kIHJlbW92ZSBpdFxuICAgIGUuc3JjRWxlbWVudC5jbG9zZXN0KCcubWVudS1mb3JtJykucmVtb3ZlKClcbn1cblxuLy8gYWRkIGV2ZW50IGxpc3RlbmVyIGZvciBhIG1lbnUtaXRlbVxuZnVuY3Rpb24gYWRkTWVudUl0ZW1FdmVudCAoaXRlbSkge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAvLyByZW1vdmVzIHRoZSBjbGFzcyB0aGF0IGlzIGhpZ2hsaWdodGluZyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW1cbiAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtc2VsZWN0ZWQnKVxuICAgICAgICAvLyBtYWtlIHN1cmUgY3VycmVudFNlbGVjdGVkIGlzbid0IG51bGwgdG8gcHJldmVudCBhbiBlcnJvclxuICAgICAgICAvLyBjdXJyZW50U2VsZWN0ZWQgd2lsbCBiZSBudWxsIHdoZW4gdGhlIHRyYXNoIGljb24gaXMgY2xpY2tlZCB0byBkZWxldGVcbiAgICAgICAgaWYgKGN1cnJlbnRTZWxlY3RlZCAhPSBudWxsKXtcbiAgICAgICAgICAgIGN1cnJlbnRTZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LXNlbGVjdGVkJylcbiAgICAgICAgfVxuICAgICAgICAvL2FkZCB0aGUgbWVudS1zZWxlY3RlZCBjbGFzcyB0byB0aGUgaXRlbSB0aGF0IHdhcyBzZWxlY3RlZFxuICAgICAgICBlLnNyY0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1zZWxlY3RlZCcpXG4gICAgICAgIC8vIGNhbGwgZnVuY3Rpb24gdG8gcmVuZGVyIHRoZSB0YXNrc1xuICAgICAgICByZW5kZXJUYXNrcyhlLnNyY0VsZW1lbnQuZmlyc3RDaGlsZC50ZXh0Q29udGVudClcbiAgICB9KVxufVxuIiwiLy8gZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGFzayBmb3IgdGhlIERPTVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlVGFzayAodGl0bGUsIGRhdGUpIHtcbiAgICAvL2NyZWF0ZSBkZWZhdWx0IGRpdiB0byBob2xkIGFsbCB0aGUgaW5mb1xuICAgIGNvbnN0IHRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRhc2tEaXYuY2xhc3NMaXN0LmFkZCgndGFzaycpXG4gICAgdGFza0Rpdi5jbGFzc0xpc3QuYWRkKCd0YXNrLXNwYW4nKVxuXG4gICAgLy9jcmVhdGUgdHdvIGhhbHZlcyBmb3IgdGhlIGRpdiBcbiAgICBjb25zdCB0YXNrU3RhcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGNvbnN0IHRhc2tFbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRhc2tTdGFydC5jbGFzc0xpc3QuYWRkKCd0YXNrLXN0YXJ0JylcbiAgICB0YXNrRW5kLmNsYXNzTGlzdC5hZGQoJ3Rhc2stZW5kJylcblxuICAgIC8vY3JlYXRlIGJ1dHRvbiB0byBjb21wbGV0ZSB0YXNrXG4gICAgY29uc3QgY2hlY2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICBjaGVja0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdjaGVjay1idXR0b24nKVxuXG4gICAgLy9jcmVhdGUgZGl2IHRvIGhvbGQgdGl0bGUgb2YgdGFza1xuICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgdGFza1RpdGxlLmNsYXNzTGlzdC5hZGQoJ3Rhc2stdGl0bGUnKVxuICAgIHRhc2tUaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlXG5cbiAgICAvL2NyZWF0ZSBkaXYgdG8gaG9sZCB0aGUgZGF0ZVxuICAgIGNvbnN0IHRhc2tEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB0YXNrRGF0ZS5jbGFzc0xpc3QuYWRkKCd0YXNrLWRhdGUnKVxuICAgIHRhc2tEYXRlLnRleHRDb250ZW50ID0gJzEvMi8yMDIzJy8vVE8gRE9cblxuICAgIC8vY3JlYXRlIHRoZSBlZGl0IGJ1dHRvbi9pbWdcbiAgICBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICBlZGl0QnV0dG9uLnNyYyA9ICdpbWFnZXMvZWRpdC5zdmcnXG4gICAgZWRpdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdlZGl0IGJ1dHRvbicpXG5cbiAgICAvLyBBcHBlbmQgYWxsIGVsZW1lbnRzIHRvZ2V0aGVyXG4gICAgdGFza0VuZC5hcHBlbmRDaGlsZCh0YXNrRGF0ZSlcbiAgICB0YXNrRW5kLmFwcGVuZENoaWxkKGVkaXRCdXR0b24pXG5cbiAgICB0YXNrU3RhcnQuYXBwZW5kQ2hpbGQoY2hlY2tCdXR0b24pXG4gICAgdGFza1N0YXJ0LmFwcGVuZENoaWxkKHRhc2tUaXRsZSlcblxuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza1N0YXJ0KVxuICAgIHRhc2tEaXYuYXBwZW5kQ2hpbGQodGFza0VuZClcblxuICAgIHJldHVybiB0YXNrRGl2XG59Il0sIm5hbWVzIjpbInByb2plY3RUaXRsZXMiLCJjcmVhdGVPcHRpb24iLCJpIiwib3B0aW9uIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3BsaXQiLCJzZXRJdGVtIiwiYWxsVGFza3MiLCJhZGRUYXNrIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbnNlcnRCZWZvcmUiLCJ0aXRsZSIsImRhdGUiLCJkZXNjcmlwdGlvbiIsInByaW9yaXR5IiwidGFza0Zvcm0iLCJjbGFzc0xpc3QiLCJhZGQiLCJmb3JtIiwidG9wRWRpdCIsImVkaXRUaXRsZSIsInZhbHVlIiwiZGF0ZURpdiIsImRhdGVMYWJlbCIsImlucHV0RGF0ZSIsImFwcGVuZENoaWxkIiwidGV4dEFyZWFEaXYiLCJ0ZXh0QXJlYSIsImxvd2VyRGl2IiwiZW5jb21wYXNEaXYiLCJwcmlvcml0eUxhYmVsIiwicHJpb3JpdHlTZWxlY3QiLCJzYXZlQnV0dG9uIiwiY3JlYXRlVGFza0VkaXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFkZE1lbnVJdGVtRXZlbnQiLCJtZW51VGl0bGVzIiwiYXJyYXkiLCJsZW5ndGgiLCJjcmVhdGVNZW51SXRlbSIsImRpdiIsInRpdGxlRGl2IiwidHJhc2giLCJlIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZGVsZXRlVGl0bGUiLCJzcmNFbGVtZW50IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsImNsb3Nlc3QiLCJyZW1vdmUiLCJjYW5jZWwiLCJpdGVtIiwiY3VycmVudFNlbGVjdGVkIiwibWVudVNlbGVjdGVkIiwibmV3QXJyYXkiLCJmaWx0ZXIiLCJnZXRQcmlvcml0eSIsImdldFByb2plY3QiLCJ0YXNrc0RpdiIsImVsZSIsInRhc2tEaXYiLCJ0YXNrU3RhcnQiLCJ0YXNrRW5kIiwiY2hlY2tCdXR0b24iLCJ0YXNrVGl0bGUiLCJ0YXNrRGF0ZSIsImVkaXRCdXR0b24iLCJzcmMiLCJjcmVhdGVUYXNrIiwiZ2V0VGl0bGUiLCJnZXREYXRlIiwicmVuZGVyVGFza3MiLCJmaXJzdENoaWxkIiwibWVudUZvcm0iLCJpbnB1dCIsInByb2plY3RCdXR0b25zIiwiYWRkQnV0dG9uIiwiY2FuY2VsQnV0dG9uIiwiaW5wdXRUZXh0IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwicHVzaCIsInNhdmUiLCJjcmVhdGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==